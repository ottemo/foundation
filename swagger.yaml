swagger: "2.0"

info:
  description: "Package foundation represents default Ottemo e-commerce product application entry point."
  version: "0.0.1"
  title: "Foundation API"
  termsOfService: "http://subject.to.change"

  contact:
    email: "subject@to.change"

  license:
    name: "Example 2.0"
    url: "http://www.apache.org/licenses/LICENSE-2.0.html"

host: "localhost:3000"

schemes:
- "http"
- "https"

consumes:
- "application/json"

produces:
- "application/json"

paths:

  /app/email:
    post:
      tags:
        - app
      description: creates a new email message via a POST from the Contact Us form
      parameters:
      - name: body
        in: body
        schema:
          type: object
          required:
          - formLocation
          properties:
            formLocation:
              type: string
              description: Web page(?) where form is located
            email:
              type: string
          additionalProperties:
            type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /app/location:
    get:
      tags:
        - app
      description: return a time zone of session
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    post:
      tags:
        - app
      description: validate time zone and set it to session
      parameters:
      - name: body
        in: body
        schema:
          type: object
          description: One of parameters should be set
          properties:
            timeZone:
              type: string
            time_zone:
              type: string
            time:
              type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /app/login:
    get:
      tags:
        - auth
      description: login application with root rights
      parameters:
      - name: login
        in: query
        type: string
        required: true
      - name: password
        in: query
        type: string
        required: true
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    post:
      tags:
        - auth
      description: login application with root rights
      parameters:
        - in: body
          name: body
          schema:
            type: object
            properties:
              login:
                type: string
              password:
                type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /app/logout:
    get:
      tags:
        - auth
      description: logout application - session data clear
      responses:
        200:
          description: processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /app/rights:
    get:
      tags:
        - app
      description: function to get info about current rights
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                is_admin:
                  type: boolean
              additionalProperties:
                type: string

  /app/status:
    get:
      tags:
        - app
      description: function to get info about current application status
      responses:
        200:
          description: OK
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                Ottemo:
                  type: string
                Ottemo.VersionMajor:
                  type: integer
                Ottemo.VersionMinor:
                  type: integer
                Ottemo.BuildTags:
                  type: string
                Ottemo.BuildNumber:
                  type: string
                Ottemo.BuildDate:
                  type: string
                Ottemo.BuildBranch:
                  type: string
                Ottemo.BuildHash:
                  type: string
                Ottemo.DBEngine:
                  type: string
                Ottemo.DBConnected:
                  type: string
                Ottemo.DBName:
                  type: string
                StartTime:
                  type: string
                Uptime:
                  type: integer
                GO:
                  type: string
                NumGoroutine:
                  type: integer
                NumCPU:
                  type: integer
                memStats.Alloc:
                  type: integer
                memStats.TotalAlloc:
                  type: integer
                memStats.Sys:
                  type: integer
                memStats.Lookups:
                  type: integer
                memStats.Mallocs:
                  type: integer
                memStats.Frees:
                  type: integer
                memStats.HeapAlloc:
                  type: integer
                memStats.HeapSys:
                  type: integer
                memStats.HeapIdle:
                  type: integer
                memStats.HeapInuse:
                  type: integer
                memStats.HeapReleased:
                  type: integer
                memStats.HeapObjects:
                  type: integer
                memStats.StackInuse:
                  type: integer
                memStats.StackSys:
                  type: integer
                memStats.MSpanInuse:
                  type: integer
                memStats.MSpanSys:
                  type: integer
                memStats.MCacheInuse:
                  type: integer
                memStats.MCacheSys:
                  type: integer
                memStats.BuckHashSys:
                  type: integer
                memStats.GCSys:
                  type: integer
                memStats.OtherSys:
                  type: integer
                memStats.NextGC:
                  type: integer
                memStats.LastGC:
                  type: integer
                memStats.PauseTotalNs:
                  type: integer
                memStats.NumGC:
                  type: integer
                memStats.EnableGC:
                  type: boolean
                memStats.DebugGC:
                  type: boolean

  /authorizenet/receipt:
    post:
      tags:
        - authorizenet
        - payment
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              x_response_code:
                type: string
              x_session:
                type: string
              x_card_type:
                type: string
              x_account_number:
                type: string
              x_amount:
                type: string
              x_trans_id:
                type: string
      description: >
        processes Authorize.net receipt response
        can be used for redirecting customer to it on exit from authorize.net
      responses:
        200:
          description: >
            Processed.
            Positive result could contains:
              - DeclineHTML
              - StructRestRedirect:
                - Result: object
                - Location: redirectURL
                - DoRedirect: boolean
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /authorizenet/relay:
    post:
      tags:
        - authorizenet
        - payment
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              x_response_code:
                type: string
              x_session:
                type: string
              x_card_type:
                type: string
              x_account_number:
                type: string
              x_amount:
                type: string
              x_trans_id:
                type: string
      description: processes Authorize.net relay response
      responses:
        200:
          description: >
            Processed.
            Positive result could contains:
              - DeclineHTML
              - ReceiptHTML
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /blog/post:
    post:
      tags:
        - blog
      description: creates blog post by provided data
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: body
        in: body
        schema:
          $ref: '#/definitions/BlogPostModelHash'
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/BlogPostModelHash'
        403:
          description: Forbidden
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /blog/post/{id}:
    delete:
      tags:
        - blog
      description: deletes post by id
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: id
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    get:
      tags:
        - blog
      description: returns post by id
      parameters:
      - name: id
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  allOf:
                  - $ref: '#/definitions/BlogPostModelHash'
                  - type: object
                    properties:
                      extra:
                        type: object
                        properties:
                          next:
                            $ref: '#/definitions/BlogPostModelHash'
                          prev:
                            $ref: '#/definitions/BlogPostModelHash'

    put:
      tags:
        - blog
      description: updates post by id
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: id
        in: path
        required: true
        type: string
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/BlogPostModelHash'
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/BlogPostModelHash'

  /blog/posts:
    get:
      tags:
        - blog
      description: returns list of posts or count
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: action
        in: query
        type: string
        enum:
        - count
      responses:
        200:
          description: >
            Processed.
            Could return:
              - list of BlogPostModelHash
              - count
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /blog/posts/attributes:
    get:
      tags:
        - blog
      description: returns a list of blog post attributes
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    $ref: '#/definitions/StructAttributeInfo'

  /cart:
    get:
      tags:
        - cart
      description: returns get cart related information
      responses:
        200:
          description: OK
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: object
                  properties:
                    visitor_id:
                      type: string
                    cart_info:
                      type: object
                    items:
                      type: array
                      items:
                        type: object
                        properties:
                          _id:
                            type: string
                          idx:
                            type: integer
                          gty:
                            type: integer
                          pid:
                            type: string
                          options:
                            type: object
                          product:
                            type: object
                            properties:
                              name:
                                type: string
                              sku:
                                type: string
                              price:
                                type: number
                              weight:
                                type: number
                              options:
                                type: object
                              image:
                                type: object

  /cart/coupons:
    post:
      tags:
        - cart
        - coupon
      description: Apply will add the coupon code to the current checkout
      parameters:
      - name: body
        in: body
        schema:
          type: object
          required:
          - code
          properties:
            code:
              type: string
      responses:
        200:
          description: Coupon applied
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /cart/coupons/{code}:
    delete:
      tags:
        - cart
        - coupon
      description: >
        will remove the coupon code and its value from the current checkout.
        use a "*" as the coupon code to revert all discounts.
      parameters:
      - name: code
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /cart/giftcards/{giftcode}:
    delete:
      tags:
        - giftcard
      description: removes the application of the gift card value from the current checkout
      parameters:
      - name: giftcode
        in: path
        required: true
        type: string
        description: use "*" as giftcard code to 'remove' all giftcard discounts
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    post:
      tags:
        - giftcard
      description: applies the provided gift card to current checkout
      parameters:
      - name: giftcode
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /cart/item:
    post:
      tags:
        - cart
      description: adds specified product to cart
      parameters:
      - name: body
        in: body
        schema:
          type: object
          required:
          - pid
          properties:
            pid:
              type: string
              description: product ID
            qty:
              type: integer
            options:
              type: object
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'


  /cart/item/{itemIdx}:
    delete:
      tags:
        - cart
      description: removes specified item from cart item from cart
      parameters:
      - name: itemIdx
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /cart/item/{itemIdx}/{qty}:
    put:
      tags:
        - cart
      description: changes qty and/or option for cart item
      parameters:
      - name: itemIdx
        in: path
        required: true
        type: string
      - name: qty
        in: path
        required: true
        type: integer
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /categories:
    get:
      tags:
        - category
      description: returns a list of available categories
      parameters:
      - name: action
        in: query
        type: string
        enum:
        - count
      responses:
        200:
          description: >
            Processed.
            Could return:
              - list of items
              - count
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    type: object
                    properties:
                      ID:
                        type: string
                      Name:
                        type: string
                      Desc:
                        type: string
                      Extra:
                        type: string
                      Image:
                        type: string
                      Images:
                        type: array
                        items:
                          type: object

  /categories/attributes:
    get:
      tags:
        - category
      description: returns a list of category attributes
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    $ref: '#/definitions/StructAttributeInfo'

  /categories/tree:
    get:
      tags:
        - category
      description: returns categories parent/child relation map
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      child:
                        type: array
                        items:
                          type: object
                          description: id, name, child[...]

  /category:
    post:
      tags:
        - category
      description: creates a new category
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: body
        in: body
        schema:
          $ref: '#/definitions/CategoryModelHash'
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/CategoryModelHash'

  /category/{categoryID}:
    delete:
      tags:
        - category
      description: deletes existing category
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    get:
      tags:
        - category
      description: return specified category information
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/CategoryModelHash'

    put:
      tags:
        - category
      description: modifies existing category
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      - name: body
        in: body
        schema:
          $ref: '#/definitions/CategoryModelHash'
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/CategoryModelHash'

  /category/{categoryID}/layers:
    get:
      tags:
        - category
      description: enumerates category attributes and their possible values which is used for layered navigation
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: object
                  description: each property value is an array

  /category/{categoryID}/media/{mediaType}:
    get:
      tags:
        - category
      description: returns list of media files assigned to specified category
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      - name: mediaType
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    type: string

  /category/{categoryID}/media/{mediaType}/{mediaName}:
    delete:
      tags:
        - category
      description: removes media content from specified category
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      - name: mediaType
        in: path
        required: true
        type: string
      - name: mediaName
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    get:
      tags:
        - category
      description: returns media contents for a category (file assigned to a category)
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      - name: mediaType
        in: path
        required: true
        type: string
      - name: mediaName
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed. On success case not a JSON data returns, but media file.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    post:
      tags:
        - category
      description: uploads and assigns media file send in request for a specified category
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      - name: mediaType
        in: path
        required: true
        type: string
      - name: mediaName
        in: path
        required: true
        type: string
      - name: file
        in: formData
        type: file
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /category/{categoryID}/mediapath/{mediaType}:
    get:
      tags:
        - category
      description: returns relative path to category media files within media library
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      - name: mediaType
        in: path
        required: true
        type: string
      responses:
        200:
          description: returns relative path to category media files within media library
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /category/{categoryID}/product/{productID}:
    delete:
      tags:
        - category
      description: adds product to category
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      - name: productID
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    post:
      tags:
        - category
      description: removes product from category
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      - name: productID
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /category/{categoryID}/products:
    get:
      tags:
        - category
      description: returns category related products
      parameters:
      - name: categoryID
        in: path
        required: true
        type: string
      - name: action
        in: query
        type: string
        enum:
        - count
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    type: object
                    allOf:
                      - $ref: '#/definitions/ProductModelHash'
                      - type: object
                        properties:
                          image:
                            type: array
                            items:
                              type: object

  /checkout:
    get:
      tags:
        - checkout
      description: returns information related to current checkkout
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                billing_address:
                  $ref: '#/definitions/AddressModelHash'
                shipping_address:
                  type: object
                  allOf:
                    - $ref: '#/definitions/AddressModelHash'
                    - type: object
                      properties:
                        notes:
                          type: string
                payment_method_name:
                  type: string
                payment_method_code:
                  type: string
                shipping_method_name:
                  type: string
                shipping_method_code:
                  type: string
                shipping_rate:
                  $ref: '#/definitions/StructShippingRate'
                shipping_amount:
                  type: number
                discounts:
                  type: array
                  items:
                    $ref: '#/definitions/StructPriceAdjustment'
                discount_amount:
                  type: number
                taxes:
                  type: array
                  items:
                    $ref: '#/definitions/StructPriceAdjustment'
                tax_amount:
                  type: number
                subtotal:
                  type: number
                grandtotal:
                  type: number
                info:
                  type: object

    put:
      tags:
        - checkout
      description: allows to specify and assign to checkout extra information
      parameters:
      - in: body
        name: body
        schema:
          type: object
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object


  /checkout/billing/address:
    put:
      tags:
        - checkout
      description: specifies billing address for a current checkout
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/AddressModelHash'
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/AddressModelHash'

  /checkout/payment/method/{method}:
    put:
      tags:
        - checkout
      description: assigns payment method to current checkout
      parameters:
      - in: path
        name: method
        required: true
        type: string
        description: payment methos Code
      - in: body
        name: body
        description: checkout Info
        schema:
          type: object
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /checkout/payment/methods:
    get:
      tags:
        - checkout
      description: returns currently available payment methods
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    type: object
                    properties:
                      Name:
                        type: string
                      Code:
                        type: string
                      Type:
                        type: string
                      Tokenable:
                        type: boolean

  /checkout/shipping/address:
    put:
      tags:
        - checkout
      description: specifies shipping address for a current checkout
      parameters:
      - in: body
        name: body
        schema:
          type: object
          allOf:
            - $ref: '#/definitions/AddressModelHash'
            - type: object
              properties:
                notes:
                  type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/AddressModelHash'

  /checkout/shipping/method/{method}/{rate}:
    put:
      tags:
        - checkout
      description: assigns shipping method and shipping rate to current checkout
      parameters:
      - in: path
        name: method
        required: true
        description: shipping method Code
        type: string
      - in: path
        name: rate
        required: true
        description: shipping rate Code
        type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /checkout/shipping/methods:
    get:
      tags:
        - checkout
      description: returns currently available shipping methods
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    type: object
                    properties:
                      Name:
                        type: string
                      Code:
                        type: string
                      Rates:
                        type: array
                        items:
                          $ref: '#/definitions/StructShippingRate'

  /checkout/submit:
    post:
      tags:
        - checkout
      description: >
        Submits current checkout and creates a new order base on it.
        Could return:
          - StructRestRedirect
          - OrderHashMap with orderItems
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /cms/block:
    post:
      tags:
        - cms
      description: creates a new CMS block
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/CmsBlockModelHash'
      responses:
        200:
          description: Processed.
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/ApiResponse'
              - type: object
                properties:
                  result:
                    $ref: '#/definitions/CmsBlockModelHash'

  /cms/block/{blockID}:
    delete:
      tags:
        - cms
      description: deletes existing CMS block
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: blockID
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    get:
      tags:
        - cms
      description: return specified CMS block information
      parameters:
      - name: blockID
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed.
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/ApiResponse'
              - type: object
                properties:
                  result:
                    type: object
                    allOf:
                      - $ref: '#/definitions/CmsBlockModelHash'
                      - type: object
                        properties:
                          evaluated:
                            type: string
                            description: >
                              CMS block content can be a text template,
                              so "evaluated" field in response is that template evaluation result

    put:
      tags:
        - cms
      description: updates existing CMS block
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: blockID
        in: path
        required: true
        type: string
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/CmsBlockModelHash'
      responses:
        200:
          description: Processed.
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/ApiResponse'
              - type: object
                properties:
                  result:
                    $ref: '#/definitions/CmsBlockModelHash'

  /cms/blocks:
    get:
      tags:
        - cms
      description: returns a list of existing CMS blocks
      responses:
        200:
          description: Processed.
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/ApiResponse'
              - type: object
                properties:
                  result:
                    type: array
                    items:
                      $ref: '#/definitions/StructListItem'

  /cms/blocks/attributes:
    get:
      tags:
        - cms
      description: returns a list of CMS block attributes
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    $ref: '#/definitions/StructAttributeInfo'

  /cms/media:
    get:
      tags:
        - cms
      description: returns list of media files from media
      parameters:
      - in: query
        name: mediaType
        type: string
        description: >
          - if mediaType is empty - all types will be used
          - if mediaType is explicit value - only this value will be used
          - if mediaType is list of types separated by comma - only these types will be shown
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      url:
                        type: string
                      created_at:
                        type: string
                      type:
                        type: string

    post:
      tags:
        - cms
      description: >
        uploads images to the media
        - media file should be provided in "file" field with full name
        - the mediaType of files are detected automatically
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: file
        in: formData
        type: file
      responses:
        200:
          description: Processed.
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/ApiResponse'
              - type: object
                properties:
                  result:
                    type: array
                    items:
                      type: string

  /cms/media/{mediaName}:
    delete:
      tags:
        - cms
      description: removes media from storage
      security:
        - OTTEMOSESSION: []
      parameters:
      - in: path
        name: mediaName
        type: string
        required: true
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /cms/media/{mediaName}/{mediaType}:
    delete:
      tags:
        - cms
      description: removes media from storage
      security:
        - OTTEMOSESSION: []
      parameters:
      - in: path
        name: mediaName
        type: string
        required: true
      - in: path
        name: mediaType
        type: string
        required: true
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  # Swagger Error
  # Equivalent path already exists: /cms/media/{mediaName}
  # /cms/media/{mediaType}:
  #   get:
  #     tags:
  #       - cms
  #     description: returns list of media files from media
  #     parameters:
  #     - in: path
  #       name: mediaType
  #       type: string
  #       required: true
  #       description: >
  #         - if mediaType is empty - all types will be used
  #         - if mediaType is explicit value - only this value will be used
  #         - if mediaType is list of types separated by comma - only these types will be shown
  #     responses:
  #       200:
  #         description: Processed
  #         schema:
  #           type: object
  #           allOf:
  #           - $ref: '#/definitions/ApiResponse'
  #           - type: object
  #             properties:
  #               result:
  #                 type: array
  #                 items:
  #                   type: object
  #                   properties:
  #                     id:
  #                       type: string
  #                     name:
  #                       type: string
  #                     url:
  #                       type: string
  #                     created_at:
  #                       type: string
  #                     type:
  #                       type: string


  /cms/page:
    post:
      tags:
        - cms
      description: creates a new CMS block
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/CmsPageModelHash'
      responses:
        200:
          description: Processed.
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/ApiResponse'
              - type: object
                properties:
                  result:
                    $ref: '#/definitions/CmsPageModelHash'

  /cms/page/{pageID}:
    delete:
      tags:
        - cms
      description: deletes specified CMS page
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: pageID
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed.
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    get:
      tags:
        - cms
      description: return specified CMS page information
      parameters:
      - name: pageID
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed.
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/ApiResponse'
              - type: object
                properties:
                  result:
                    type: object
                    allOf:
                      - $ref: '#/definitions/CmsPageModelHash'
                      - type: object
                        properties:
                          evaluated:
                            type: string
                            description: >
                              CMS page content can be a text template,
                              so "evaluated" field in response is that template evaluation result

    put:
      tags:
        - cms
      description: updates existing CMS page
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: pageID
        in: path
        required: true
        type: string
      - name: body
        in: body
        required: true
        schema:
          $ref: '#/definitions/CmsPageModelHash'
      responses:
        200:
          description: Processed.
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/ApiResponse'
              - type: object
                properties:
                  result:
                    $ref: '#/definitions/CmsPageModelHash'

  /cms/pages:
    get:
      tags:
        - cms
      description: >
        returns a list of existing CMS pages
        - if "action" parameter is set to "count" result value will be just a number of list items
      parameters:
      - in: query
        name: action
        type: string
        enum:
        - count
      responses:
        200:
          description: Processed.
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/ApiResponse'
              - type: object
                properties:
                  result:
                    type: array
                    items:
                      $ref: '#/definitions/StructListItem'

  /cms/pages/attributes:
    get:
      tags:
        - cms
      description: returns a list of CMS page attributes
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    $ref: '#/definitions/StructAttributeInfo'

  /config/groups:
    get:
      tags:
        - config
      description: API to get value information about config items with type [ConstConfigTypeGroup]
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    $ref: '#/definitions/StructConfigItem'

  /config/item/{path}:
    get:
      tags:
        - config
      description: API to get value information about item(s) matching path
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: path
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    $ref: '#/definitions/StructConfigItem'


  /config/value/{path}:
    delete:
      tags:
        - config
      description: API used to remove config item from system
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: path
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

    get:
      tags:
        - config
      description: >
        API used to get value of particular item in config
        - path should be without any wildcard
      parameters:
      - name: path
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object

    post:
      tags:
        - config
      description: API used to add new config Item to a config system
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: path
        in: path
        required: true
        type: string
      - name: body
        in: body
        schema:
          $ref: '#/definitions/StructConfigItem'
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/StructConfigItem'

    put:
      tags:
        - config
      description: >
        API used to set value of particular item in config
        - path should be without any wildcard
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: path
        in: path
        required: true
        type: string
      - name: body
        in: body
        schema:
          type: object
          properties:
            value:
              type: object
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object


  /config/values:
    get:
      tags:
        - config
      description: API to get value information about config items with type [ConstConfigTypeGroup]
      security:
        - OTTEMOSESSION: []
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: array
              items:
                type: string

  /config/values/refresh:
    get:
      tags:
        - config
      description: API used to re-load config from DB
      security:
        - OTTEMOSESSION: []
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /coupons:
    get:
      tags:
        - coupons
      description: returns a list registered coupons and is an protected resource that requires authentication to access.
      security:
        - OTTEMOSESSION: []
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: array
              items:
                type: object

    post:
      tags:
        - coupons
      description: >
        will generate a new coupon code when supplied the following required keys,
        they are not required to match.
          - "name" is the desired reference key for the coupon
          - "code" is the text visitors must enter to apply a coupon in checkout
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: body
        in: body
        schema:
          $ref: '#/definitions/CouponHash'
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/CouponHash'

  /coupons/{id}:
    delete:
      tags:
        - coupons
      description: deletes specified coupon item
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: id
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'
        400:
          description: Bad Request
        500:
          description: Internal Server Error

    get:
      tags:
        - coupons
      description: returns a coupon with the specified ID
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: id
        in: path
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/CouponHash'
        500:
          description: Internal Server Error

    put:
      tags:
        - coupons
      description: updates existing coupon specified in the request argument
      security:
        - OTTEMOSESSION: []
      parameters:
      - name: id
        in: path
        required: true
        type: string
      - name: body
        in: body
        schema:
          $ref: '#/definitions/CouponHash'
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/CouponHash'
        400:
          description: Bad Request
        500:
          description: Internal Server Error

  /cron/schedule:
    get:
      tags:
        - cron
      description: get information about current schedules
      security:
        - OTTEMOSESSION: []
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    $ref: '#/definitions/CronScheduleHash'

  /cron/task:
    get:
      tags:
        - cron
      description: return scheduler registered tasks (functions that are available to execute)
      security:
        - OTTEMOSESSION: []
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  type: array
                  items:
                    type: string

    post:
      tags:
        - cron
      description: >
        createTask with request params;
        in request params required are time or cronExpr for creating different type of tasks
      security:
        - OTTEMOSESSION: []
      parameters:
      - in: body
        name: body
        schema:
          type: object
          properties:
            CronExpr:
              type: string
            Time:
              type: string
            TaskName:
              type: string
            repeat:
              type: string
            params:
              type: object
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/CronSchedule'

  /cron/task/{taskIndex}:
    put:
      tags:
        - cron
      description: updateTask update scheduler task
      security:
        - OTTEMOSESSION: []
      parameters:
      - in: path
        name: taskIndex
        required: true
        type: string
      - in: body
        name: body
        schema:
          type: object
          properties:
            expr:
              type: string
            time:
              type: string
            task:
              type: string
            repeat:
              type: string
            params:
              type: object
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

  /cron/task/disable/{taskIndex}:
    get:
      tags:
        - cron
      description: make schedule inactive
      security:
        - OTTEMOSESSION: []
      parameters:
      - in: path
        name: taskIndex
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/CronScheduleHash'

  /cron/task/enable/{taskIndex}:
    get:
      tags:
        - cron
      description: make schedule active
      security:
        - OTTEMOSESSION: []
      parameters:
      - in: path
        name: taskIndex
        required: true
        type: string
      responses:
        200:
          description: Processed
          schema:
            type: object
            allOf:
            - $ref: '#/definitions/ApiResponse'
            - type: object
              properties:
                result:
                  $ref: '#/definitions/CronScheduleHash'

  /cron/task/run/{taskIndex}:
    get:
      tags:
        - cron
      description: allows to execute task of schedule without updating of it
      security:
        - OTTEMOSESSION: []
      parameters:
      - in: path
        name: taskIndex
        required: true
        type: string
      - in: body
        name: body
        schema:
          type: object
          properties:
            useTaskParams:
              type: boolean
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

# /csv/coupons {GET}
# /csv/coupons {POST}

# /emma/contact {POST}
# /friend/captcha {GET}
# /friend/email {POST}
# /giftcard {POST}
# /giftcard/:id/history {GET}
# /giftcards {GET}
# /giftcards/:giftcode {GET}
# /impex/export/:model {GET}
# /impex/import {POST}
# /impex/import/:model {POST}
# /impex/import/status {GET}
# /impex/models {GET}
# /impex/test/import {POST}
# /impex/test/mapping {POST}
# /media {GET}
# /order/:orderID {DELETE}
# /order/:orderID {GET}
# /order/:orderID {PUT}
# /order/:orderID/emailOrderConfirmation {GET}
# /order/:orderID/emailShipStatus {GET}
# /order/:orderID/emailTrackingCode {POST}
# /orders {GET}
# /orders/attributes {GET}
# /orders/exportToCSV {POST}
# /orders/setStatus {POST}
# /patch/options {GET}
# /paypal/cancel {GET}
# /paypal/success {GET}
# /product {POST}
# /product/:productID {DELETE}
# /product/:productID {GET}
# /product/:productID {PUT}
# /product/:productID/media/:mediaType {GET}
# /product/:productID/media/:mediaType/:mediaName {DELETE}
# /product/:productID/media/:mediaType/:mediaName {GET}
# /product/:productID/media/:mediaType/:mediaName {POST}
# /product/:productID/media/:mediaType/:mediaName {PUT}
# /product/:productID/mediapath/:mediaType {GET}
# /product/:productID/related {GET}
# /product/:productID/stock {POST}
# /products {GET}
# /products/attribute {POST}
# /products/attribute/:attribute {DELETE}
# /products/attribute/:attribute {PUT}
# /products/attributes {GET}
# /proxy.html {GET}
# /ratedreview/:productID/:stars {POST}
# /rating/:productID {GET}
# /reporting/customer-activity {GET}
# /reporting/gift-cards {GET}
# /reporting/location-country {GET}
# /reporting/location-us {GET}
# /reporting/payment-method {GET}
# /reporting/product-performance {GET}
# /reporting/shipping-method {GET}
# /review/:productID {POST}
# /review/:reviewID {DELETE}
# /review/:reviewID {GET}
# /review/:reviewID {PUT}
# /reviews {GET}
# /rts/bestsellers {GET}
# /rts/conversion {GET}
# /rts/sales {GET}
# /rts/sales/detail/:from/:to {GET}
# /rts/visit {POST}
# /rts/visits {GET}
# /rts/visits/detail/:from/:to {GET}
# /saleprice {POST}
# /saleprice/:id {DELETE}
# /saleprice/:id {GET}
# /saleprice/:id {PUT}
# /saleprices {GET}
# /seo/attributes {GET}
# /seo/canonical/:id {GET}
# /seo/item {POST}
# /seo/item/:itemID {DELETE}
# /seo/item/:itemID {PUT}
# /seo/items {GET}
# /seo/sitemap {GET}
# /seo/sitemap/sitemap.xml {GET}
# /seo/url {GET}
# /seo/url/:url {GET}
# /shipstation {GET}
# /shipstation {POST}
# /stock/:productID {DELETE}
# /stock/:productID {GET}
# /stock/:productID/:qty {POST}
# /stock/:productID/:qty {PUT}
# /subscriptional/checkout {GET}
# /subscriptions {GET}
# /subscriptions/:id {GET}
# /subscriptions/:id {PUT}
# /swatch/media {GET}
# /swatch/media {POST}
# /swatch/media/:mediaName {DELETE}
# /swatch/media/extention {GET}
# /taxes/csv {GET}
# /taxes/csv {POST}
# /trustpilot/products/summaries {GET}
# /update/subscriptions {GET}
# /visit {GET}
# /visit {PUT}
# /visit/address {POST}
# /visit/address/:addressID {DELETE}
# /visit/address/:addressID {GET}
# /visit/address/:addressID {PUT}
# /visit/addresses {GET}

  /visit/login:
    post:
      tags:
      - auth
      description: makes login for a current visit
      parameters:
        - in: body
          name: body
          schema:
            type: object
            properties:
              email:
                type: string
              password:
                type: string
      responses:
        200:
          description: Processed
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

# /visit/login-facebook {POST}
# /visit/login-google {POST}

  /visit/logout:
    get:
      tags:
        - auth
      description: makes logout for current visit
      security:
        - OTTEMOSESSION: []
      responses:
        200:
          description: "Processed"
          schema:
            $ref: '#/definitions/ApiResponseWithResultObject'

# /visit/order/:orderID {GET}
# /visit/orders {GET}
# /visit/subscriptions {GET}
# /visit/subscriptions/:id {PUT}
# /visit/tokens {GET}
# /visit/tokens {POST}
# /visit/tokens/:tokenID {DELETE}
# /visit/tokens/default {POST}
# /visitor {POST}
# /visitor/:visitorID {DELETE}
# /visitor/:visitorID {GET}
# /visitor/:visitorID {PUT}
# /visitor/:visitorID/address {POST}
# /visitor/:visitorID/address/:addressID {DELETE}
# /visitor/:visitorID/address/:addressID {PUT}
# /visitor/:visitorID/addresses {GET}
# /visitors {GET}
# /visitors/address/:addressID {DELETE}
# /visitors/address/:addressID {GET}
# /visitors/address/:addressID {PUT}
# /visitors/addresses/attributes {GET}
# /visitors/attribute {POST}
# /visitors/attribute/:attribute {DELETE}
# /visitors/attribute/:attribute {PUT}
# /visitors/attributes {GET}
# /visitors/available {POST}
# /visitors/forgot-password/:email {GET}
# /visitors/guests {GET}
# /visitors/invalidate/:email {GET}
# /visitors/mail {POST}
# /visitors/register {POST}
# /visitors/reset-password {POST}
# /visitors/validate/:key {GET}

securityDefinitions:
  OTTEMOSESSION:
    type: apiKey
    name: OTTEMOSESSION
    in: header

definitions:

  ApiResponse:
    type: object
    properties:
      error:
        type: object
        properties:
          code:
            type: string
          level:
            type: integer
          message:
            type: string
      redirect:
        type: string

  ApiResponseWithResultObject:
    allOf:
    - $ref: '#/definitions/ApiResponse'
    - type: object
      properties:
        result:
          type: object

  AddressModelHash:
    type: object
    properties:
      _id:
        type: string
      visitor_id:
        type: string
      first_name:
        type: string
      last_name:
        type: string
      company:
        type: string
      address_line1:
        type: string
      address_line2:
        type: string
      country:
        type: string
      city:
        type: string
      state:
        type: string
      phone:
        type: string
      zip_code:
        type: string

  BlogPostModelHash:
    type: object
    properties:
      _id:
        type: string
      identifier:
        type: string
      published:
        type: boolean
      title:
        type: string
      excerpt:
        type: string
      content:
        type: string
      tags:
        type: array
        items:
          type: string
      featured_image:
        type: string
      created_at:
        type: string
        format: date-time
      updated_at:
        type: string
        format: date-time

  CategoryModelHash:
    type: object
    properties:
      _id:
        type: string
      enabled:
        type: boolean
      description:
        type: string
      image:
        type: string
      parent_id:
        type: string
      name:
        type: string
      product_ids:
        type: array
        items:
          type: string
      path:
        type: string

  CmsBlockModelHash:
    type: object
    properties:
      _id:
        type: string
      identifier:
        type: string
      content:
        type: string
      created_at:
        type: string
      updated_at:
        type: string

  CmsPageModelHash:
    type: object
    properties:
      _id:
        type: string
      enabled:
        type: boolean
      identifier:
        type: string
      title:
        type: string
      content:
        type: string
      created_at:
        type: string
      updated_at:
        type: string

  CouponHash:
    type: object
    properties:
      _id:
        type: string
      code:
        type: string
      name:
        type: string
      amount:
        type: number
      percent:
        type: number
      times:
        type: integer
      since:
        type: string
      until:
        type: string
      limits:
        type: string
      target:
        type: string

  CronSchedule:
    type: object
    properties:
      CronExpr:
        type: string
      TaskName:
        type: string
      expr:
        type: string
      Time:
        type: string
      task:
        type: string
      Repeat:
        type: boolean
      Params:
        type: object
      active:
        type: boolean
      scheduler:
        type: object

  CronScheduleHash:
    type: object
    properties:
      expr:
        type: string
      time:
        type: string
      task:
        type: string
      repeat:
        type: boolean
      params:
        type: object
      active:
        type: boolean

  # Not used directly
  # OrderModelHash:
  #   type: object
  #   properties:
  #     _id:
  #       type: string
  #     increment_id:
  #       type: string
  #     status:
  #       type: string
  #     visitor_id:
  #       type: string
  #     session_id:
  #       type: string
  #     cart_id:
  #       type: string
  #     customer_email:
  #       type: string
  #     customer_name:
  #       type: string
  #     shipping_address:
  #       type: object
  #     billing_address:
  #       type: object
  #     payment_method:
  #       type: string
  #     shipping_method:
  #       type: string
  #     subtotal:
  #       type: number
  #     discount:
  #       type: number
  #     tax_amount:
  #       type: number
  #     shipping_amount:
  #       type: number
  #     grand_total:
  #       type: number
  #     taxes:
  #       type: array
  #       items:
  #         $ref: '#/definitions/StructTaxRate'
  #     discounts:
  #       type: array
  #       items:
  #         $ref: '#/definitions/StructDiscount'
  #     created_at:
  #       type: string
  #     updated_at:
  #       type: string
  #     description:
  #       type: string
  #     payment_info:
  #       type: object
  #     custom_info:
  #       type: object
  #     shipping_info:
  #       type: object
  #     notes:
  #       type: array
  #       items:
  #         type: string

  ProductModelHash:
    type: object
    properties:
      _id:
        type: string
      enabled:
        type: string
      sku:
        type: string
      name:
        type: string
      short_description:
        type: string
      description:
        type: string
      default_image:
        type: string
      price:
        type: string
      weight:
        type: string
      options:
        type: string
      visible:
        type: string
      related_pids:
        type: string
    additionalProperties:
      type: object

  StructAttributeInfo:
    type: object
    properties:
      Model:
        type: string
      Collection:
        type: string
      Attribute:
        type: string
      Type:
        type: string
      Label:
        type: string
      IsRequired:
        type: boolean
      IsStatic:
        type: boolean
      Group:
        type: string
      Editors:
        type: string
      Options:
        type: string
      Default:
        type: string
      Validators:
        type: string
      IsLayered:
        type: boolean
      IsPublic:
        type: boolean

  StructConfigItem:
    type: object
    properties:
      Path:
        type: string
      Value:
        type: object
      Type:
        type: string
      Editor:
        type: string
      Options:
        type: object
      Label:
        type: string
      Description:
        type: string
      Image:
        type: string

  # Not used directly
  # StructDiscount:
  #   type: object
  #   properties:
  #     Name:
  #       type: string
  #     Code:
  #       type: string
  #     Amount:
  #       type: number

  StructListItem:
    type: object
    properties:
      ID:
        type: string
      Name:
        type: string
      Image:
        type: string
      Desc:
        type: string
      Extra:
        type: object

  StructPriceAdjustment:
    type: object
    properties:
      Code:
        type: string
      Name:
        type: string
      Priority:
        type: number
      Amount:
        type: number
      IsPercent:
        type: boolean
      Labels:
        type: array
        items:
          type: string
      PerItem:
        type: object

  # Not used directly
  # StructRestRedirect:
  #   type: object
  #   properties:
  #     Result:
  #       type: object
  #     Location:
  #       type: string
  #     DoRedirect:
  #       type: boolean

  StructShippingRate:
    type: object
    properties:
      Name:
        type: string
      Code:
        type: string
      Price:
        type: number

  # Not used directly
  # StructTaxRate:
  #   type: object
  #   properties:
  #     Name:
  #       type: string
  #     Code:
  #       type: string
  #     Amount:
  #       type: number

externalDocs:
  description: "Find out more about Ottemo"
  url: "http://ottemo.io"
